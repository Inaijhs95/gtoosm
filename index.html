<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>オサムが愛した数式</title>
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <style>
        /* 全体のスタイル */
        body {
            background-color: #2e2e2e;
            background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png'); /* 黒板テクスチャ */
            color: #e0e0e0;
            font-family: 'Shadows Into Light', cursive; /* チョーク風フォント */
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }
        .chalkboard {
            width: 100%;
            max-width: 800px;
            padding: 40px;
            background-color: rgba(20, 20, 20, 0.9); /* 黒板の濃い背景 */
            border: 5px solid #3e3e3e;
            box-shadow: 0 0 30px rgba(0,0,0,0.7);
            border-radius: 15px;
            position: relative;
            background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png'); /* 黒板テクスチャを重ねる */
            background-blend-mode: multiply;
        }
        .chalkboard::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.02); /* 微細なノイズ */
            pointer-events: none;
        }
        .equation {
            white-space: pre-wrap;
            font-size: 1.8em;
            line-height: 2em;
            opacity: 0.95;
            text-shadow: 2px 2px 2px #555; /* シャドウを強調 */
            margin: 0;
            color: #f5f5f5; /* チョークの色 */
        }
        .chalk-text {
            color: #f5f5f5;
        }
        .link {
            color: #ffeb3b;
            text-decoration: underline;
            cursor: pointer;
            transition: color 0.3s, transform 0.3s;
        }
        .link:hover {
            color: #ffee58;
            transform: scale(1.1);
        }
        /* タイピングカーソルのスタイル */
        .cursor {
            display: inline-block;
            width: 10px;
            background-color: #ffeb3b;
            margin-left: 2px;
            animation: blink 1s infinite;
            height: 1.2em;
            vertical-align: bottom;
        }
        @keyframes blink {
            0%, 50% {
                opacity: 1;
            }
            51%, 100% {
                opacity: 0;
            }
        }
        /* レスポンシブデザイン */
        @media (max-width: 600px) {
            .chalkboard {
                padding: 20px;
            }
            .equation {
                font-size: 1.4em;
                line-height: 1.6em;
            }
            .cursor {
                height: 1em;
            }
        }
    </style>
</head>
<body>

<div class="chalkboard">
    <div id="equation" class="equation chalk-text"></div>
</div>

<script>
    const equationElement = document.getElementById('equation');
    const equations = [
        "∫₀^∞ (x³ e^{-x}) dx = 6",
        "ζ(2) = π² / 6",
        "limₓ→0 (sin(x)/x) = 1",
        "Σₖ=₁^∞ (1/k⁴) = π⁴ / 90",
        "d/dx (eˣ sin(x)) = eˣ(sin(x) + cos(x))",
        "∇ × (∇φ) = 0",
        "∫ e^{-x²} dx = √π",
        "cos²(x) + sin²(x) = 1",
        "Γ(3/2) = √π / 2",
        "(1 + i)² = 2i",
        "Σₙ=₁^∞ 1/n(n+1) = 1",
        "P(x) = x⁴ - 4x³ + 6x² - 4x + 1",
        "x = 19 * (9 + 1) - 19",
        "036"
    ];

    let index = 0;
    let charIndex = 0;

    function typeEquation() {
        if (index < equations.length) {
            if (charIndex < equations[index].length) {
                const currentChar = equations[index][charIndex];
                equationElement.textContent += currentChar;
                charIndex++;
                setTimeout(typeEquation, 50 + Math.random() * 50); // タイピング速度を調整
            } else {
                equationElement.textContent += "\n";
                charIndex = 0;
                index++;

                // 最後の方程式に達したらリンク化
                if (index === equations.length) {
                    makeLink();
                } else {
                    setTimeout(typeEquation, 700);
                }
            }
        }
    }

    function makeLink() {
        const linkText = document.createElement('span');
        linkText.classList.add('link');
        linkText.textContent = "036";
        linkText.addEventListener('click', () => {
            window.location.href = "https://line.me/R/oaMessage/%40778unfqy/%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%82%92%E5%85%A5%E5%8A%9B%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F"; // 指定のURLに変更
        });
        equationElement.appendChild(linkText);

        // カーソルを非表示にする
        const cursor = document.querySelector('.cursor');
        if (cursor) {
            cursor.style.display = 'none';
        }
    }

    // タイピングカーソルの追加
    const cursor = document.createElement('span');
    cursor.classList.add('cursor');
    equationElement.appendChild(cursor);

    // 数式アニメーションの開始
    typeEquation();
</script>

</body>
</html>
