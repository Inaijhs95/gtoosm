<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>オサムが愛した数式</title>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
<style>
    body {
        background-color: #2e2e2e;
        background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png'); /* 黒板風の背景テクスチャ */
        color: #e0e0e0;
        font-family: 'Caveat', cursive; /* 新しいチョーク風フォント */
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 20px;
        min-height: 100vh;
        overflow-y: auto;
    }
    .chalkboard {
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
        padding: 30px;
        background-color: rgba(20, 20, 20, 0.85); /* 黒板の色を濃く */
        border: 5px solid #3e3e3e;
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
        border-radius: 10px;
        position: relative;
        background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png'); /* 黒板のテクスチャを重ねる */
        background-blend-mode: multiply;
    }
    .chalkboard::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.02); /* 微細なノイズを追加 */
        pointer-events: none;
    }
    .equation {
        white-space: pre-wrap;
        font-size: 1.4em;
        line-height: 1.6em;
        opacity: 0.95;
        text-shadow: 1px 1px 1px #555; /* シャドウを控えめに */
        margin: 0;
        color: #f5f5f5; /* チョークの色を少し濃く */
    }
    .chalk-text {
        color: #f5f5f5;
    }
    .link {
        color: #ffeb3b;
        text-decoration: underline;
        cursor: pointer;
        transition: color 0.3s;
    }
    .link:hover {
        color: #ffee58;
    }
    .cursor {
        display: inline-block;
        width: 10px;
        background-color: #ffeb3b;
        margin-left: 2px;
        animation: blink 1s infinite;
    }
    @keyframes blink {
        0%, 50% {
            opacity: 1;
        }
        51%, 100% {
            opacity: 0;
        }
    }
    @media (max-width: 600px) {
        .chalkboard {
            padding: 20px;
        }
        .equation {
            font-size: 1.2em;
            line-height: 1.5em;
        }
    }
</style>
</head>
<body>

<div class="chalkboard">
    <div id="equation" class="equation chalk-text"></div>
</div>

<script>
    const equationElement = document.getElementById('equation');
    const equations = [
        "1. \\( I = \\int_{0}^{\\infty} x^3 e^{-x} dx = 6 \\)",
        "2. \\( \\zeta(2) = \\frac{\\pi^2}{6} \\)",
        "3. \\( \\lim_{x \\to 0} \\frac{\\sin(x)}{x} = 1 \\)",
        "4. \\( S = \\sum_{k=1}^{\\infty} \\frac{1}{k^4} = \\frac{\\pi^4}{90} \\)",
        "5. \\( \\Gamma\\left(\\frac{3}{2}\\right) = \\frac{\\sqrt{\\pi}}{2} \\)",
        "6. \\( (1 + i)^2 = 2i \\)",
        "7. \\( T = \\sum_{n=1}^{\\infty} \\frac{1}{n(n+1)} = 1 \\)",
        "8. \\( P(x) = x^4 - 4x^3 + 6x^2 - 4x + 1 \\)",
        "   \\( P(2) = 2^4 - 4 \\times 2^3 + 6 \\times 2^2 - 4 \\times 2 + 1 = 1 \\)",
        "",
        "9. \\( a = I \\times \\zeta(2) = 6 \\times \\frac{\\pi^2}{6} = \\pi^2 \\approx 9.8696 \\)",
        "10. \\( b = a \\times S = \\pi^2 \\times \\frac{\\pi^4}{90} = \\frac{\\pi^6}{90} \\approx 10.4674 \\)",
        "11. \\( c = b \\times \\Gamma\\left(\\frac{3}{2}\\right) = \\frac{\\pi^6}{90} \\times \\frac{\\sqrt{\\pi}}{2} = \\frac{\\pi^{6.5}}{180} \\approx 5.2337 \\)",
        "12. \\( d = c \\times T = 5.2337 \\times 1 = 5.2337 \\)",
        "13. \\( e = d + P(2) = 5.2337 + 1 = 6.2337 \\)",
        "14. \\( f = e \\times 27.5 \\approx 6.2337 \\times 27.5 \\approx 171 \\)",
        "A. \\( １７１ // \\)"
    ];

    let index = 0;
    let charIndex = 0;

    function typeEquation() {
        if (index < equations.length) {
            if (charIndex < equations[index].length) {
                // Handle LaTeX rendering
                const currentLine = equations[index].substring(0, charIndex + 1);
                equationElement.innerHTML = equations.slice(0, index).join('\n') + '\n' + currentLine + '<span class="cursor"></span>';
                charIndex++;
                setTimeout(typeEquation, 30 + Math.random() * 20); // タイピング速度を速く
            } else {
                equationElement.innerHTML += "\n";
                charIndex = 0;
                index++;
                setTimeout(typeEquation, 300);
            }
        } else {
            // 最後の行をリンクに変更
            makeLink();
        }
    }

    function makeLink() {
        // 最後の「A. １７１ //」をリンクに変更
        equationElement.innerHTML = equationElement.innerHTML.replace("A. \\( １７１ // \\\\ \\)", "A. <span class='link'>１７１</span> //");
        const linkText = equationElement.querySelector('.link');
        linkText.addEventListener('click', () => {
            window.location.href = "https://line.me/R/oaMessage/%40778unfqy/%E3%83%A1%E3%83%A2%E3%81%AE%E8%AC%8E%E3%80%81%E8%A7%A3%E3%81%91%E3%81%BE%E3%81%97%E3%81%9F";
        });

        // カーソルを非表示にする
        const cursor = document.querySelector('.cursor');
        if (cursor) {
            cursor.style.display = 'none';
        }
    }

    // タイピングカーソルの追加
    const cursor = document.createElement('span');
    cursor.classList.add('cursor');
    equationElement.appendChild(cursor);

    // 数式アニメーションの開始
    typeEquation();
</script>

</body>
</html>
